<div class="settings-container">
    <div class="settings-header">
        <h1 data-i18n="settings.title">Settings</h1>
        <p data-i18n="settings.subtitle">Configure your IVIDS experience</p>
    </div>

    <!-- Appearance Settings -->
    <div class="settings-section">
        <h2 class="section-title">
            <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 7.02944 12 3ZM12 3V12M12 3C14.5013 3 16.7386 4.21128 18.1792 6.08296"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span data-i18n="settings.appearance">Appearance</span>
        </h2>

        <div class="setting-item">
            <div class="setting-info">
                <div class="setting-label" data-i18n="settings.language">Language</div>
                <div class="setting-description" data-i18n="settings.languageDesc">Choose your preferred language</div>
            </div>
            <div class="setting-control">
                <div id="language-selector" class="cycle-selector focusable" tabindex="0">
                    <span class="cycle-arrow left-arrow">‹</span>
                    <span id="current-language-text" class="language-text">Loading...</span>
                    <span class="cycle-arrow right-arrow">›</span>
                </div>
            </div>
        </div>

        <div class="setting-item color-setting">
            <div class="setting-info">
                <div class="setting-label" data-i18n="settings.accentColor">Accent Color</div>
                <div class="setting-description" data-i18n="settings.accentColorDesc">Choose your preferred theme color
                </div>
            </div>

            <!-- Landscape Mode: Grid of Colors -->
            <div class="color-row landscape-only" id="landscape-color-container">
                <!-- Colors will be injected here by JS -->
            </div>

            <!-- Portrait Mode: Trigger Button -->
            <div class="portrait-color-trigger portrait-only focusable" id="portrait-color-trigger" tabindex="0">
                <div class="trigger-preview" id="trigger-color-preview"></div>
                <div class="trigger-icon"></div>
            </div>
        </div>
    </div>

    <!-- App Updates Settings -->
    <div id="app-updates-section" class="settings-section">
        <h2 class="section-title">
            <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span data-i18n="settings.updates">App Updates</span>
        </h2>

        <div class="setting-item">
            <div class="setting-info">
                <div class="setting-label" data-i18n="settings.updateMode">Update Mode</div>
                <div class="setting-description" data-i18n="settings.updateModeDesc">Choose how the app handles updates
                </div>
            </div>
            <div class="setting-control">
                <div id="update-mode-selector" class="cycle-selector focusable" tabindex="0">
                    <span class="cycle-arrow left-arrow">‹</span>
                    <span id="current-update-mode-text" class="mode-text">Manual</span>
                    <span class="cycle-arrow right-arrow">›</span>
                </div>
            </div>
        </div>

        <div id="manual-check-container" class="setting-item" style="display: none;">
            <div class="setting-info">
                <div class="setting-label" data-i18n="settings.checkNow">Check for Updates</div>
                <div class="setting-description" data-i18n="settings.checkNowDesc">Manually check if a new version is
                    available</div>
            </div>
            <div class="setting-control">
                <button id="check-updates-btn" class="accent-btn focusable" data-i18n="settings.checkButton">Controleren
                    ›</button>
            </div>
        </div>

        <div id="update-available-container" class="setting-item" style="display: none;">
            <div class="setting-info">
                <div class="setting-label" data-i18n="settings.updateFound">New Version Available</div>
                <div class="setting-description" id="update-version-text">v1.1.0</div>
            </div>
            <div class="setting-control">
                <button id="install-update-btn" class="accent-btn focusable highlight" data-i18n="settings.updateNow">Nu
                    Installeren ›</button>
            </div>
        </div>
    </div>
</div>

<!-- Color Selection Modal (Portrait) -->
<div class="color-modal-overlay" id="color-modal">
    <div class="color-modal-content">
        <h3 data-i18n="settings.selectColor">Select Color</h3>
        <div class="color-row modal-colors" id="modal-color-container">
            <!-- Colors will be injected here by JS -->
        </div>
        <button class="modal-close-btn focusable" id="modal-close-btn" data-i18n="common.close">Close</button>
    </div>
</div>

<!-- Save Notification -->
<div class="save-notification" id="save-notification">
    ✓ Settings saved!
</div>